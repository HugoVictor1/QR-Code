<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
    <script src="script.js" defer></script>
</head>
<body>
    <div class="page">

        <form id="meuFormulario">

            <h1>Autentica√ß√£o</h1>
            <p>Digite seu acesso no campo abaixo.</p>
            <label for="senha">Senha:</label>
            <input type="email" id="Email" placeholder="Email">
            <input type="password" id="senha" placeholder="Senha"><br>
          
            <button onclick="logout()" id="btn">Enviar</button>
        </form>
        
    </div>

    <script>
    // üîß Configura√ß√£o do Firebase
    const firebaseConfig = {
	    apiKey: "AIzaSyCH1Qor5428omiUDARz8zCvVYs8Lm0rp1o",
      authDomain: "qrcode-8c3d7.firebaseapp.com",
      projectId: "qrcode-8c3d7",
      storageBucket: "qrcode-8c3d7.firebasestorage.app",
      messagingSenderId: "787431670871",
      appId: "1:787431670871:web:6441686766090be047cf12"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // üìù Cadastro
    function cadastrar() {
      const email = document.getElementById("Email").value;
      const senha = document.getElementById("Senha").value;
      auth.createUserWithEmailAndPassword(email, senha)
        .then(() => alert("Cadastro realizado!"))
        .catch(e => alert("Erro: " + e.message));
    }

    // üîê Login
    function logar() {
      const email = document.getElementById("loginEmail").value;
      const senha = document.getElementById("loginSenha").value;
      auth.signInWithEmailAndPassword(email, senha)
        .then(() => {
          document.getElementById("conteudo").style.display = "block";
          alert("Login realizado!");
        })
        .catch(e => alert("Erro: " + e.message));
    }

    // üö™ Logout
    function logout() {
      auth.signOut()
        .then(() => {
          document.getElementById("conteudo").style.display = "none";
          alert("Logout feito!");
        });
    }

    // üëÄ Verifica se est√° logado ao carregar
    auth.onAuthStateChanged(user => {
      document.getElementById("conteudo").style.display = user ? "block" : "none";
    });
  </script>
</body>
</html>


